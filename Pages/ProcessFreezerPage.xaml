<Page x:Class="WindowsDebloater.Pages.ProcessFreezerPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.modernwpf.com/2019"
      Title="ProcessFreezer">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="40,30,40,30">
            <!-- Header -->
            <TextBlock Text="â„ï¸ Process Freezer" 
                      FontSize="28" 
                      FontWeight="SemiBold"
                      Margin="0,0,0,10"/>
            <TextBlock Text="Suspend/resume processes to save resources without closing them" 
                      FontSize="14" 
                      Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                      Margin="0,0,0,30"/>

            <!-- Controls -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                <Button Content="ðŸ”„ Refresh List" 
                       Click="Refresh_Click"
                       Margin="0,0,10,0"
                       Padding="15,8"/>
                <Button Content="â„ï¸ Freeze Selected" 
                       Click="Freeze_Click"
                       Margin="0,0,10,0"
                       Padding="15,8"
                       Style="{StaticResource AccentButtonStyle}"/>
                <Button Content="â–¶ï¸ Resume Selected" 
                       Click="Resume_Click"
                       Margin="0,0,10,0"
                       Padding="15,8"/>
                <Button Content="ðŸ§Š Freeze All Non-Essential" 
                       Click="FreezeAll_Click"
                       Margin="0,0,10,0"
                       Padding="15,8"/>
                <Button Content="â–¶ï¸ Resume All" 
                       Click="ResumeAll_Click"
                       Padding="15,8"/>
            </StackPanel>

            <!-- Process List -->
            <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="4"
                   Padding="0">
                <ListView x:Name="ProcessListView"
                         Height="450"
                         SelectionMode="Extended"
                         BorderThickness="0">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Process Name" Width="220">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding ProcessName}" FontWeight="SemiBold"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="PID" Width="80">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding ProcessId}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Status" Width="100">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Status}" 
                                                  Foreground="{Binding StatusColor}"
                                                  FontWeight="Bold"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Memory (MB)" Width="120">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding MemoryMB}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="CPU %" Width="80">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding CpuPercent}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Threads" Width="80">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding ThreadCount}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Border>

            <!-- Frozen Processes Summary -->
            <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,20,0,0">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ“Š Frozen Processes: " FontSize="14" VerticalAlignment="Center"/>
                    <TextBlock x:Name="FrozenCountText" Text="0" FontSize="14" FontWeight="Bold" Margin="5,0" VerticalAlignment="Center"/>
                    <TextBlock Text="| Memory Saved: " FontSize="14" Margin="20,0,0,0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="MemorySavedText" Text="0 MB" FontSize="14" FontWeight="Bold" Margin="5,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
